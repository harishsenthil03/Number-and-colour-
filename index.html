<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI Color + Number Predictor (Advanced)</title>
<style>
body{font-family:Arial;background:#f3f4f6;padding:12px}
.card{background:#fff;padding:12px;margin-bottom:10px;border-radius:8px}
button{padding:10px 14px;margin:4px;border:none;border-radius:8px;color:#fff;font-weight:bold}
.red{background:#ef4444}
.green{background:#22c55e}
.blue{background:#3b82f6}
.yellow{background:#facc15;color:#000}
.black{background:#111}
.white{background:#888}
.num{background:#6366f1}
.win{color:green;font-weight:bold}
.loss{color:red;font-weight:bold}
table{width:100%;border-collapse:collapse;font-size:12px}
th,td{border:1px solid #ccc;padding:5px;text-align:center}
th{background:#eee}
</style>
</head>
<body>

<h3>ðŸ§  AI Color + Number Predictor (Advanced)</h3>

<div class="card">
AI Color: <b id="aiColor">-</b><br>
AI Number: <b id="aiNumber">-</b><br>
Confidence: <b id="aiConf">-</b><br>
Explanation:
<p id="aiExplain" style="font-size:12px;color:#555">-</p>
Accuracy: <b id="acc">0%</b>
</div>

<div class="card">
<h4>ðŸŽ¨ One-Tap Color</h4>
<div id="colorBtns"></div>
</div>

<div class="card">
<h4>ðŸ”¢ One-Tap Number</h4>
<div id="numBtns"></div>
</div>

<div class="card">
<h4>ðŸ“œ History</h4>
<table>
<thead>
<tr>
<th>#</th><th>AI C</th><th>Res C</th><th>C</th>
<th>AI N</th><th>Res N</th><th>N</th><th>Conf</th>
</tr>
</thead>
<tbody id="hist"></tbody>
</table>
</div>

<script>
let COLORS=["Red","Green"];
let history=[];
let pendingColor=null;
let serial=1;
let wins=0,total=0;

// ---------- AI CORE ----------
function aiPredict(){
 let last=history.slice(-10);
 let count={Red:0,Green:0};
 last.forEach(x=>count[x.resColor]++);
 let trend = count.Red>count.Green?"Red":"Green";

 // streak exhaustion
 let streak=1;
 for(let i=last.length-1;i>0;i--){
   if(last[i].resColor===last[i-1].resColor) streak++;
   else break;
 }

 let color=trend;
 let conf="MEDIUM";
 let explain="Trend based";

 if(streak>=3){
   color = last[last.length-1].resColor==="Red"?"Green":"Red";
   conf="HIGH";
   explain="Streak exhaustion detected";
 }

 // number AI
 let nums=last.map(x=>x.resNum);
 let freq={};
 nums.forEach(n=>freq[n]=(freq[n]||0)+1);
 let hot=Object.keys(freq).sort((a,b)=>freq[b]-freq[a])[0] || Math.floor(Math.random()*10);
 let number=parseInt(hot);

 return {color,number,conf,explain};
}

// ---------- UI ----------
function render(){
 let ai=aiPredict();
 document.getElementById("aiColor").innerText=ai.color;
 document.getElementById("aiNumber").innerText=ai.number;
 document.getElementById("aiConf").innerText=ai.conf;
 document.getElementById("aiExplain").innerText=ai.explain;
 document.getElementById("acc").innerText= total?((wins/total)*100).toFixed(1)+"%":"0%";
}

function addHistory(resNum){
 let ai=aiPredict();
 let colorWin = ai.color===pendingColor;
 let numWin = ai.number===resNum;
 if(colorWin) wins++;
 total++;

 history.push({
   aiColor:ai.color,resColor:pendingColor,
   aiNum:ai.number,resNum:resNum,
   conf:ai.conf
 });

 let row=`<tr>
<td>${serial++}</td>
<td>${ai.color}</td>
<td>${pendingColor}</td>
<td class="${colorWin?"win":"loss"}">${colorWin?"W":"L"}</td>
<td>${ai.number}</td>
<td>${resNum}</td>
<td class="${numWin?"win":"loss"}">${numWin?"W":"L"}</td>
<td>${ai.conf}</td>
</tr>`;

 document.getElementById("hist").innerHTML=row+document.getElementById("hist").innerHTML;
 pendingColor=null;
 render();
}

// ---------- BUTTONS ----------
function init(){
 let cdiv=document.getElementById("colorBtns");
 COLORS.forEach(c=>{
   let b=document.createElement("button");
   b.className=c.toLowerCase();
   b.innerText=c;
   b.onclick=()=>{pendingColor=c;};
   cdiv.appendChild(b);
 });

 let ndiv=document.getElementById("numBtns");
 for(let i=0;i<=9;i++){
   let b=document.createElement("button");
   b.className="num";
   b.innerText=i;
   b.onclick=()=>{ if(pendingColor) addHistory(i); };
   ndiv.appendChild(b);
 }
 render();
}
init();
</script>
</body>
</html>